---
import { render } from "astro:content";
import BaseLayout from "../../layouts/Layout.astro";
import ContentLayout from "../../layouts/content.astro";
import ArticleHeader from "./_components/article-header.astro";

import { articlesHandler } from "../../handlers/articles";

export const getStaticPaths = async () => {
  const articles = articlesHandler.allArticles();

  return articles.map((article) => ({
    params: { id: article.id },
    props: { article },
  }));
};
const { article } = Astro.props;

const { Content, remarkPluginFrontmatter, headings } = await render(article);
---

<BaseLayout entry={article}>
  <ArticleHeader
    article={article}
    readingTime={remarkPluginFrontmatter.minutesRead}
    headings={headings}
  />
  <!-- <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5591515314789878"
    crossorigin="anonymous"></script> -->
  <!-- prisri-full -->
  <ins
    class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-5591515314789878"
    data-ad-slot="3311765487"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script is:inline>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  <ContentLayout>
    <Content />
  </ContentLayout>
</BaseLayout>
